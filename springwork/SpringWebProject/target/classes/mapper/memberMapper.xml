<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
 "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
 
 <mapper namespace="MemberDao">
   <!-- 조회 (id)-->
   <select id="idCheckOfMember" resultType="int" parameterType="String">
     select count(*) from smember where id = #{id}
   </select>
   
   <!-- insert -->
   <insert id="idInsertOfMember" parameterType="mdto">
     insert into smember (name, id, pass, hp, gaipdat) values(#{name}, #{id}, #{pass}, #{hp}, now())
   </insert>
   
   <!-- 전체 리스트 -->
   <select id="allDataOfMember" resultType="mdto">
     select * from smember order by num desc
   </select>
   
   <!-- num 가져오기/수정폼가져오기 -->
   <select id="selectOneOfMember" parameterType="String" resultType="mdto">
     select * from smember where num=#{num}
   </select>
   
   <!-- 전체갯수 얻기 -->
   <select id="totalCountMember" resultType="int">
     select count(*) from smember
   </select>
   
   <!-- 수정할떄 비밀번호 비교 -->
   <select id="passCheckOfMember" parameterType="HashMap" resultType="int">
     select count(*) from smember where num = #{num} and pass = #{pass}
   </select>
   
   
   <!-- 수정하기 -->
   <update id="updateOfMember" parameterType="mdto">
     update smember set name=#{name}, hp = #{hp} where num=#{num}
   </update>
 </mapper>